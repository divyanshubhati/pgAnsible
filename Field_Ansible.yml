---
-
 hosts: control
 become: yes
 gather_facts: false
 tasks:
 - name: Install Java 7
   yum:
     name: java-1.7.0-openjdk-devel
     state: installed
     update_cache: true
 - name: Install Maven
   yum:
     name: maven
     state: installed
     update_cache: true

 - name: Install Postgresql repository RPM
   yum: 
     name: https://download.postgresql.org/pub/repos/yum/9.4/redhat/rhel-7-x86_64/pgdg-oraclelinux94-9.4-3.noarch.rpm
     update_cache: true
     state: installed 
 - name: Install Postgresql client packages
   yum: 
     name: postgresql94
     update_cache: true
     state: installed
 - name: Install Postgresql server packages
   yum: 
     name: postgresql94-server
     update_cache: true
     state: installed
 - name: Initialize postgres db
   shell: /usr/pgsql-9.4/bin/postgresql94-setup initdb
 - name: Enable Postgres automatic start
   shell: systemctl enable postgresql-9.4 
 - name: Starting postgres service
   shell: systemctl start postgresql-9.4
 - name: Ensure the PostgreSQL service is running
   service: 
      name: postgresql-9.4 
      state: started
      enabled: yes         
 - name: Install npm
   yum:
     name: npm
     state: installed
     update_cache: true
 - name: Install yarn
   npm:
    name: yarn
    global: yes
    state: latest
 - name: Install gulp
   npm:
    name: gulp-cli
    global: yes
    state: latest
 - name: Install grunt
   npm:
    name: grunt-cli
    global: yes
    state: latest
